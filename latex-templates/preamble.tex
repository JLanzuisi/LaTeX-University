% So that TeX doesn't complain about small
% underfull or overfull boxes
\hfuzz1pc
% Make the overfull marker bigger
\overfullrule=2cm

% Font setup.
\usepackage{unicode-math}
\defaultfontfeatures{Ligatures=TeX}
\setmainfont[
    StylisticSet={1,2}
]{League Spartan}
\newfontfamily{\light}[
    StylisticSet={1,2}
]{League Spartan Light}
\setmonofont[
    Scale=MatchLowercase
]{Source Code Pro}
\setmathfont[
    Scale=.85
]{TeX Gyre DejaVu Math}
\setmathfont[
    range=\setminus%
]{XITS Math}
% 20% bigger line height
\linespread{1.06}
% Don't put extra space after periods
\frenchspacing

\KOMAoptions{
    paper = letter,
    BCOR = 0mm,
    twoside = false,
    fontsize = {10},
    DIV = calc,
}

% Make bibliography more compact, no indents.
\KOMAoption{toc}{flat}

% Language support, usually changes between english
% and spanish.
%\usepackage[spanish,es-noindentfirst]{babel}
\usepackage[english]{babel}
\usepackage{csquotes}

% Bibliography
\usepackage[
    backend=biber,
    style=numeric-comp,
    backref=true,
    backrefstyle=two,
    abbreviate=true
]{biblatex}
\addbibresource{~/git/Misc-LaTeX-files/bib/general.bib}
\addbibresource{~/git/Misc-LaTeX-files/bib/math-books.bib}

% Graphics, mainly to insert images or
% single page PDFs.
\usepackage{graphicx}
\usepackage[dvipsnames]{xcolor}
% Handy command to typeset URLs
\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=Mahogany,
    filecolor=Mahogany,
    urlcolor=Black,
    citecolor=Mahogany,
}
\usepackage{url}
%\urlstyle{same}
\usepackage{metalogo}


% Font style and size for title
\setkomafont{title}{\fontseries{m}\light}
% Font style for the subject
\setkomafont{subject}{\normalfont}
% Font style for subtitle
\setkomafont{subtitle}{\normalfont}
\setkomafont{author}{\large}
\setkomafont{date}{\normalsize}
\setkomafont{section}{\fontseries{m}\light\Large}
\setkomafont{subsection}{\fontseries{m}\light\large}
\setkomafont{subsubsection}{\fontseries{m}\normalfont}
% Footnotes
\deffootnote{2.0em}{1.5em}{\thefootnotemark.\ }

% CUSTOM MACROS
% ToC not in sans-serif
\let\oldtoc\tableofcontents
\renewcommand{\tableofcontents}{%
    {
        \renewcommand{\sffamily}{\rmfamily}
        \oldtoc%
    }
}
% Macros for writing code
\newcommand{\icode}[1]{\verb~#1~}
% Urls
% \let\oldurl\url
% \newcommand{\umark}{\text{\textcolor{Mahogany}{\texttt{o}}}}
% \renewcommand{\url}[1]{\oldurl{#1}\(^{\umark}\)}
% emph to bold
\renewcommand{\emph}{\textbf}
% mathrm to symup
\AtBeginDocument{\renewcommand{\mathrm}{\symup}}
% math macros
\renewcommand{\Rn}{\mathbb{R}^{\mathrm{n}}}
\newcommand{\Rm}{\mathbb{R}^{\mathrm{m}}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\N}{\mathbb{N}}