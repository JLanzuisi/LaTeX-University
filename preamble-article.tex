% This block configures some misc plain TeX options
\hfuzz1pc
\overfullrule=2cm

% Language. Spanish for most texts,
% english when needed. The csquotes packages is
% usefull for quotes.
\usepackage{polyglossia}
\setdefaultlanguage{spanish}
\PolyglossiaSetup{spanish}{indentfirst=false}
%\setdefaultlanguage{english}
\usepackage{csquotes}

% Page layout
\KOMAoptions{
paper = letter,
BCOR = 0mm,
twoside = false,
pagesize = luatex,
fontsize = {11},
DIV = calc,
}

% Load amsmath family of packages,
% and extra goodies.
% The operators are not used too much, but
% it's nice to have them.
\usepackage{mathtools}
\DeclareMathOperator{\Rea}{Re}
\DeclareMathOperator{\Ima}{Im}
\DeclareMathOperator{\car}{car}
\DeclareMathOperator{\traz}{tr}
\DeclareMathOperator{\gen}{gen}
\DeclareMathOperator{\mcm}{mcm}
% This package loads fontspec,
% so only one usepackage is needed.
\usepackage[math-style=upright]{unicode-math}
% Latin modern fonts for serif and sans,
% and Hack (Dejavu sans mono derivative)
% for monospaced.
\setmainfont[
SmallCapsFeatures={LetterSpace=5,RawFeature={+c2sc}},
Ligatures=TeX,
]{CMU Concrete}
\linespread{1.05}
\KOMAoptions{DIV=last}
\defaultfontfeatures{Scale=MatchLowercase}
%\setsansfont{New Computer Modern Sans}
\setmonofont{Go Mono}
\newfontfamily{\commodern}{New Computer Modern}
% Only one space after periods
\frenchspacing
% More symbols and better spacing than
% Latin modern Math.
\setmathfont{New Computer Modern Math}
\setmathfont[
range={
       \sum,\prod,\int,
      up/{Latin,latin,greek,Greek,num,bfup},
      cal,scr,frak
}
]{Neo Euler}

% For inserting images
\PassOptionsToPackage{final}{graphicx}
% Colors and color names
\PassOptionsToPackage{dvipsnames}{xcolor}
% Cancel allows to simbolize cancelling terms in math,
% its sometimes useful to have.
% Booktabs allows for better tables.
% Pdfpages gives the option to insert a pdf,
% really useful if I want an image to be scalable,
% I can then make a pdf of a vector graphic for example.
% Metalogo just gives the corrent typesetting for logos like LuaTeX.
\usepackage
{
    xcolor,
    graphicx,
    cancel,
    booktabs,
    pdfpages,
    metalogo
}

% Make bibliography more compact, no indents.
\KOMAoption{toc}{flat}
% Biblatex and numeric style.
% The backref option enables back references,
% which I find nice to have.
\usepackage
[
backend=biber,
backref=true,
citestyle=numeric-comp,
bibstyle=numeric-comp,
sorting=ynt
]
{biblatex}
\addbibresource{/home/jhonny/git/Misc-LaTeX-files/bib/general.bib}
%  Hyperlinks and their formatting
  \usepackage{url}
  \usepackage{hyperref}
  \definecolor{Carmine}{HTML}{960018}
  \newcommand{\linkcolor}{Black}
  \hypersetup
  {
  colorlinks=true,
  linkcolor=\linkcolor,
  urlcolor=\linkcolor,
  citecolor=\linkcolor
  }
  \usepackage[spanish,nameinlink]{cleveref}

%List have no indent, and the numbers are in the right margin.
 \usepackage{enumitem}
 \setlist[description]{font=\normalfont,leftmargin=\parindent}
 \setlist[itemize]{label={\small\textbullet}}

% Font style and size for title
\setkomafont{title}{\normalfont\commodern}
% Font style for the subject
\setkomafont{subject}{\normalfont\commodern\scshape\large}
% Font style for subtitle
\setkomafont{subtitle}{\normalfont\commodern\itshape}
\setkomafont{titlehead}{\normalfont\commodern}
\setkomafont{author}{\normalfont\commodern}
\setkomafont{date}{\normalfont\commodern}

\usepackage[final]{listings}
\lstset
{
numbers=left, numberstyle=\tiny\rmfamily, stepnumber=2, numbersep=5pt,
basicstyle=\ttfamily,
stringstyle=\ttfamily,
commentstyle=\itshape,
emphstyle=\scshape,
keywordstyle=\scshape,
breaklines=true,
postbreak=\mbox{$\hookrightarrow$\enspace},
%columns=flexible
}
\usepackage{caption}
\captionsetup
{
font={rm},
justification=raggedright,
singlelinecheck=false,
skip=3pt
}

\RedeclareSectionCommand[
  afterindent=false,
  beforeskip=1.5\baselineskip,
  afterskip=.5\baselineskip,
  font=\normalfont\commodern\bfseries\large,
]{section}
\RedeclareSectionCommand[
  afterindent=false,
  beforeskip=1\baselineskip,
  afterskip=1\baselineskip,
  font=\normalfont\commodern\bfseries
]{subsection}

\setkomafont{sectionentry}{\normalfont\bfseries}

% Line for header
\KOMAoption{headsepline}{true}
% Section headings in header
\pagestyle{headings}

\usepackage[thmmarks]{ntheorem}
\theoremstyle{plain}
\theorempreskip{\medskipamount}
\theorempostskip{\medskipamount}
\theorembodyfont{\upshape}
\theoremseparator{.}
{
\theoremheaderfont{\itshape}
\newtheorem{definition}{Definici√≥n}
}
{
\theoremheaderfont{\scshape}
\newtheorem{theorem}{Teorema}
}
